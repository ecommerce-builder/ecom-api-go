#!/bin/bash
# -e ECOM_DSN='host=10.86.0.3 port=5432 user=postgres password=5oNnH50f1bz91pAF dbname=ecom_dev sslmode=verify-ca sslcert=/app/certs/pg/client-cert.pem sslrootcert=/app/certs/pg/server-ca.pem sslkey=/app/certs/pg/client-key.pem' \

docker run \
--rm -it \
-p 9000:9000 \
--name ecom-api-go \
-e ECOM_DSN='host=35.234.153.166 port=5432 user=postgres password=5oNnH50f1bz91pAF dbname=ecom_dev sslmode=disable' \
-e ECOM_CREDENTIALS_JSON='{"type":"service_account","project_id":"ecom-test-bf262","private_key_id":"fa3e406ce4fecd260e97380070fe1dbfdced5196","private_key":"-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCfFvvj8YH8RT+p\n/nialzxSJAn/8mcTDyhE7juBk1UMiqKl04yPvdzwD9/eUlpmDEVWiQxxNvWPe/m+\neDVKUwnptywpCPgbFmIBxYdAhBWNWWgHsTiJemjkHuuPJjXzJPYUVcPvtJyISPtO\n2seguvdmcOS358cfwhLHPQKUNOU/GtjHuMwHtrgfmsDj71ii5CnQwoH9k19Xnwvg\n63UO8aJKebY6eESc8vZ/2MYPyxkLRhz7XmzW4Ug0emlG/VRJO8nKHN73ksAxULPW\ny8uefdlrgx/FRQcpEPERBtg9JhzlLkTvn8/4W6Jm6Y0AIKOZ00acSXOSONMBfnTV\nOI0R7tYzAgMBAAECggEAJlR1UBAqD0vn8N8805JImEnSlvYiW3c1bpYvhCKpRSJJ\n2cZEgYVvK+/HMluJKDkgo57VfpmNRIrMO1XfEQ88vjDB1QkyLeSQrHiZA7RPNQUr\niV7rjkQN7Zh9jLnaGcD4ASJA2QodBMEAu5j+q/0gCnB8yspvMXmi6JoMewTbjv5Z\nqWc19t2pARDESp22PSqKytKS4L9N71u8iz/NlJ/oUsMQtQfl0Tou9/dze6Zo5LQD\npX+51pSbSJXknfJGangpnSAiGLMi3cB7v3vikh6HGmTnAFpJpKJtYOoxklkVZlqu\nLy9SdRItNlmYwU+Xhl9/x33rs9bQaZlJ8seowRGpgQKBgQDKay2zuhDJELbJBa3E\nvC/W54/5NyiSU+Tn0Pn4BgUahDehDXDpHsvV/DFSwhzOFE14dGcFL6CsT6WNFLnp\nvN71yuvUN3sQvUTnVCN3zmtY3gdjkqOVJT2Gxgfk9Ne2Mzg+bQb2c+XG/38cue3/\nEWZF/KwWz39KERciU7LJu7lBUwKBgQDJM6P5wdXLzL77JzaziMmH55YePFBMToF+\ntU7koK8Z10JRfGWSiH8gerrydW+z4Dno42O3k9J+bp8DoOKOG2o38ayYmUqiDBFa\nDHCWQLNxZR0HobtzZPB349MaYQEBX9Ni3EMGY1f0wJKxd6QmsJWhFOckw/sgt2/K\n7vcZFzMboQKBgEjEjwF1emNN5ugNapK3NFuFk3R8J9Gy5y+PKM3JHDyUG4uCUXz8\n3TpoFzMxJTnQgqky73Yl0RUg7NrzAILOqzihYnZAG7XA1Ox0iuufAWhJKU7agIQ1\nhxDUUDI28vVFJIsMltwyfgA0CXZCQRTZJHM0iokIvzHZQv/MJxHusoKRAoGABFpz\nr9G72H8DmteMXXIWOjSOkPTpH92K+7zciiHX6A06SB0S7Yq6hW9iYCCeXBv75MgW\nvkAai9XE5wUyIbUCJVe7TknyzXLJZVNjlDyuJUP0ztd3ANYsRcvOI4H5zZfPMRJm\n+NppashH5EMccCHd+vBC2A7NfjW524A0JHzWBEECgYBpXWEks1rs4h1129ElOttG\nYWGxuXtRrEcZhK/9wD+/ZD0HkjmpRug/fHk7k6epdwsYhq1/vIdoou5aAB1QJqhU\nqjfRMQQsFmmhvzDQxdst8Omkaf3cD7DIPatizjjGRgnVc1MB9vUxNu5Q96sT2kys\ncDP5raBgKTdtdvyZJQd/QA==\n-----END PRIVATE KEY-----\n","client_email":"test1602@ecom-test-bf262.iam.gserviceaccount.com","client_id":"108887825662413725741","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/test1602%40ecom-test-bf262.iam.gserviceaccount.com"}' \
gcr.io/spycameracctv-d48ac/ecom-api-go
